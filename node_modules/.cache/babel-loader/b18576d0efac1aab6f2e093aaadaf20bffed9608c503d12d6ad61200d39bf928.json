{"ast":null,"code":"// FunctionHelper\n// -------\n// Used for adding functions from the builder\n// Example usage: table.dateTime('datetime_to_date').notNull().defaultTo(knex.fn.now());\nclass FunctionHelper {\n  constructor(client) {\n    this.client = client;\n  }\n  now(precision) {\n    if (typeof precision === 'number') {\n      return this.client.raw(`CURRENT_TIMESTAMP(${precision})`);\n    }\n    return this.client.raw('CURRENT_TIMESTAMP');\n  }\n  uuidToBin(uuid) {\n    let ordered = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const buf = Buffer.from(uuid.replace(/-/g, ''), 'hex');\n    return ordered ? Buffer.concat([buf.slice(6, 8), buf.slice(4, 6), buf.slice(0, 4), buf.slice(8, 16)]) : Buffer.concat([buf.slice(0, 4), buf.slice(4, 6), buf.slice(6, 8), buf.slice(8, 16)]);\n  }\n  binToUuid(bin) {\n    let ordered = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const buf = Buffer.from(bin, 'hex');\n    return ordered ? [buf.toString('hex', 4, 8), buf.toString('hex', 2, 4), buf.toString('hex', 0, 2), buf.toString('hex', 8, 10), buf.toString('hex', 10, 16)].join('-') : [buf.toString('hex', 0, 4), buf.toString('hex', 4, 6), buf.toString('hex', 6, 8), buf.toString('hex', 8, 10), buf.toString('hex', 10, 16)].join('-');\n  }\n}\nmodule.exports = FunctionHelper;","map":{"version":3,"names":["FunctionHelper","constructor","client","now","precision","raw","uuidToBin","uuid","ordered","arguments","length","undefined","buf","Buffer","from","replace","concat","slice","binToUuid","bin","toString","join","module","exports"],"sources":["/Users/user/dig_develop/solo_project/node_modules/knex/lib/knex-builder/FunctionHelper.js"],"sourcesContent":["// FunctionHelper\n// -------\n// Used for adding functions from the builder\n// Example usage: table.dateTime('datetime_to_date').notNull().defaultTo(knex.fn.now());\nclass FunctionHelper {\n  constructor(client) {\n    this.client = client;\n  }\n\n  now(precision) {\n    if (typeof precision === 'number') {\n      return this.client.raw(`CURRENT_TIMESTAMP(${precision})`);\n    }\n    return this.client.raw('CURRENT_TIMESTAMP');\n  }\n\n  uuidToBin(uuid, ordered = true) {\n    const buf = Buffer.from(uuid.replace(/-/g, ''), 'hex');\n    return ordered\n      ? Buffer.concat([\n          buf.slice(6, 8),\n          buf.slice(4, 6),\n          buf.slice(0, 4),\n          buf.slice(8, 16),\n        ])\n      : Buffer.concat([\n          buf.slice(0, 4),\n          buf.slice(4, 6),\n          buf.slice(6, 8),\n          buf.slice(8, 16),\n        ]);\n  }\n\n  binToUuid(bin, ordered = true) {\n    const buf = Buffer.from(bin, 'hex');\n    return ordered\n      ? [\n          buf.toString('hex', 4, 8),\n          buf.toString('hex', 2, 4),\n          buf.toString('hex', 0, 2),\n          buf.toString('hex', 8, 10),\n          buf.toString('hex', 10, 16),\n        ].join('-')\n      : [\n          buf.toString('hex', 0, 4),\n          buf.toString('hex', 4, 6),\n          buf.toString('hex', 6, 8),\n          buf.toString('hex', 8, 10),\n          buf.toString('hex', 10, 16),\n        ].join('-');\n  }\n}\n\nmodule.exports = FunctionHelper;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,cAAc,CAAC;EACnBC,WAAWA,CAACC,MAAM,EAAE;IAClB,IAAI,CAACA,MAAM,GAAGA,MAAM;EACtB;EAEAC,GAAGA,CAACC,SAAS,EAAE;IACb,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAE;MACjC,OAAO,IAAI,CAACF,MAAM,CAACG,GAAG,CAAE,qBAAoBD,SAAU,GAAE,CAAC;IAC3D;IACA,OAAO,IAAI,CAACF,MAAM,CAACG,GAAG,CAAC,mBAAmB,CAAC;EAC7C;EAEAC,SAASA,CAACC,IAAI,EAAkB;IAAA,IAAhBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAC5B,MAAMG,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACP,IAAI,CAACQ,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC;IACtD,OAAOP,OAAO,GACVK,MAAM,CAACG,MAAM,CAAC,CACZJ,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EACfL,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EACfL,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EACfL,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CACjB,CAAC,GACFJ,MAAM,CAACG,MAAM,CAAC,CACZJ,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EACfL,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EACfL,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EACfL,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CACjB,CAAC;EACR;EAEAC,SAASA,CAACC,GAAG,EAAkB;IAAA,IAAhBX,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAC3B,MAAMG,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACK,GAAG,EAAE,KAAK,CAAC;IACnC,OAAOX,OAAO,GACV,CACEI,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EACzBR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EACzBR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EACzBR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,EAC1BR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE,CAAC,CAC5B,CAACC,IAAI,CAAC,GAAG,CAAC,GACX,CACET,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EACzBR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EACzBR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EACzBR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,EAC1BR,GAAG,CAACQ,QAAQ,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE,CAAC,CAC5B,CAACC,IAAI,CAAC,GAAG,CAAC;EACjB;AACF;AAEAC,MAAM,CAACC,OAAO,GAAGvB,cAAc"},"metadata":{},"sourceType":"script","externalDependencies":[]}