{"ast":null,"code":"// Redshift Column Compiler\n// -------\n\nconst ColumnCompiler_PG = require('../../postgres/schema/pg-columncompiler');\nconst ColumnCompiler = require('../../../schema/columncompiler');\nclass ColumnCompiler_Redshift extends ColumnCompiler_PG {\n  constructor() {\n    super(...arguments);\n  }\n\n  // Types:\n  // ------\n\n  bit(column) {\n    return column.length !== false ? `char(${column.length})` : 'char(1)';\n  }\n  datetime(without) {\n    return without ? 'timestamp' : 'timestamptz';\n  }\n  timestamp(without) {\n    return without ? 'timestamp' : 'timestamptz';\n  }\n\n  // Modifiers:\n  // ------\n  comment(comment) {\n    this.pushAdditional(function () {\n      this.pushQuery(`comment on column ${this.tableCompiler.tableName()}.` + this.formatter.wrap(this.args[0]) + ' is ' + (comment ? `'${comment}'` : 'NULL'));\n    }, comment);\n  }\n}\nColumnCompiler_Redshift.prototype.increments = function () {\n  let {\n    primaryKey = true\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return 'integer identity(1,1)' + (primaryKey ? ' primary key' : '') + ' not null';\n};\nColumnCompiler_Redshift.prototype.bigincrements = function () {\n  let {\n    primaryKey = true\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return 'bigint identity(1,1)' + (primaryKey ? ' primary key' : '') + ' not null';\n};\nColumnCompiler_Redshift.prototype.binary = 'varchar(max)';\nColumnCompiler_Redshift.prototype.blob = 'varchar(max)';\nColumnCompiler_Redshift.prototype.enu = 'varchar(255)';\nColumnCompiler_Redshift.prototype.enum = 'varchar(255)';\nColumnCompiler_Redshift.prototype.json = 'varchar(max)';\nColumnCompiler_Redshift.prototype.jsonb = 'varchar(max)';\nColumnCompiler_Redshift.prototype.longblob = 'varchar(max)';\nColumnCompiler_Redshift.prototype.mediumblob = 'varchar(16777218)';\nColumnCompiler_Redshift.prototype.set = 'text';\nColumnCompiler_Redshift.prototype.text = 'varchar(max)';\nColumnCompiler_Redshift.prototype.tinyblob = 'varchar(256)';\nColumnCompiler_Redshift.prototype.uuid = ColumnCompiler.prototype.uuid;\nColumnCompiler_Redshift.prototype.varbinary = 'varchar(max)';\nColumnCompiler_Redshift.prototype.bigint = 'bigint';\nColumnCompiler_Redshift.prototype.bool = 'boolean';\nColumnCompiler_Redshift.prototype.double = 'double precision';\nColumnCompiler_Redshift.prototype.floating = 'real';\nColumnCompiler_Redshift.prototype.smallint = 'smallint';\nColumnCompiler_Redshift.prototype.tinyint = 'smallint';\nmodule.exports = ColumnCompiler_Redshift;","map":{"version":3,"names":["ColumnCompiler_PG","require","ColumnCompiler","ColumnCompiler_Redshift","constructor","arguments","bit","column","length","datetime","without","timestamp","comment","pushAdditional","pushQuery","tableCompiler","tableName","formatter","wrap","args","prototype","increments","primaryKey","undefined","bigincrements","binary","blob","enu","enum","json","jsonb","longblob","mediumblob","set","text","tinyblob","uuid","varbinary","bigint","bool","double","floating","smallint","tinyint","module","exports"],"sources":["/Users/user/dig_develop/solo_project/node_modules/knex/lib/dialects/redshift/schema/redshift-columncompiler.js"],"sourcesContent":["// Redshift Column Compiler\n// -------\n\nconst ColumnCompiler_PG = require('../../postgres/schema/pg-columncompiler');\nconst ColumnCompiler = require('../../../schema/columncompiler');\n\nclass ColumnCompiler_Redshift extends ColumnCompiler_PG {\n  constructor() {\n    super(...arguments);\n  }\n\n  // Types:\n  // ------\n\n  bit(column) {\n    return column.length !== false ? `char(${column.length})` : 'char(1)';\n  }\n\n  datetime(without) {\n    return without ? 'timestamp' : 'timestamptz';\n  }\n\n  timestamp(without) {\n    return without ? 'timestamp' : 'timestamptz';\n  }\n\n  // Modifiers:\n  // ------\n  comment(comment) {\n    this.pushAdditional(function () {\n      this.pushQuery(\n        `comment on column ${this.tableCompiler.tableName()}.` +\n          this.formatter.wrap(this.args[0]) +\n          ' is ' +\n          (comment ? `'${comment}'` : 'NULL')\n      );\n    }, comment);\n  }\n}\n\nColumnCompiler_Redshift.prototype.increments = ({ primaryKey = true } = {}) =>\n  'integer identity(1,1)' + (primaryKey ? ' primary key' : '') + ' not null';\nColumnCompiler_Redshift.prototype.bigincrements = ({\n  primaryKey = true,\n} = {}) =>\n  'bigint identity(1,1)' + (primaryKey ? ' primary key' : '') + ' not null';\nColumnCompiler_Redshift.prototype.binary = 'varchar(max)';\nColumnCompiler_Redshift.prototype.blob = 'varchar(max)';\nColumnCompiler_Redshift.prototype.enu = 'varchar(255)';\nColumnCompiler_Redshift.prototype.enum = 'varchar(255)';\nColumnCompiler_Redshift.prototype.json = 'varchar(max)';\nColumnCompiler_Redshift.prototype.jsonb = 'varchar(max)';\nColumnCompiler_Redshift.prototype.longblob = 'varchar(max)';\nColumnCompiler_Redshift.prototype.mediumblob = 'varchar(16777218)';\nColumnCompiler_Redshift.prototype.set = 'text';\nColumnCompiler_Redshift.prototype.text = 'varchar(max)';\nColumnCompiler_Redshift.prototype.tinyblob = 'varchar(256)';\nColumnCompiler_Redshift.prototype.uuid = ColumnCompiler.prototype.uuid;\nColumnCompiler_Redshift.prototype.varbinary = 'varchar(max)';\nColumnCompiler_Redshift.prototype.bigint = 'bigint';\nColumnCompiler_Redshift.prototype.bool = 'boolean';\nColumnCompiler_Redshift.prototype.double = 'double precision';\nColumnCompiler_Redshift.prototype.floating = 'real';\nColumnCompiler_Redshift.prototype.smallint = 'smallint';\nColumnCompiler_Redshift.prototype.tinyint = 'smallint';\n\nmodule.exports = ColumnCompiler_Redshift;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}